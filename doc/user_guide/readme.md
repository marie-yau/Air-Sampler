# Directory *user_guide*


User Guide for the `airsampler` project.

This directory contains the source files that define the User Guide.
These files get converted to a more readable form using
[Sphinx](https://www.sphinx-doc.org).

The source files are written in the
[reStructuredText](https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html)
format.
In addition to the standard reST syntax,
Sphinx adds a number of
[custom roles](https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html)
and
[custom directives](https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html).

Sphinx can convert the documentation into several final formats,
including hyperlinked web pages and PDF documents.


## Directory contents


Files:

+ `make.bat`
    + Driver for Sphinx at the DOS command prompt.
    + This file was generated by Sphinx, and lightly hand-edited.
+ `Makefile`
    + Driver for Sphinx at the Unix terminal prompt.
    + This file was generated by Sphinx, and lightly hand-edited.

Subdirectories:

+ `source`
    + Files containing the documentation contents.


## Running Sphinx in a Unix terminal


If Sphinx is installed under a Python virtual environment,
start that environment.
For example:

    $ source  venv_sphinx/bin/activate

See the installation instructions below for more information.

Invoke Sphinx using the provided makefile:

    $ make  <target>

where `<target>` is one of the targets that
[`sphinx-build` understands](https://www.sphinx-doc.org/en/master/usage/builders/index.html).
Useful targets include:

+ `html`
    + Standard builder for hyperlinked HTML pages.
    + Also available: `singlehtml`,
        to combine everything into a single page.
+ `latexpdf`
    + Make a PDF, using LaTeX.
+ `epub`

Note `make` may fail with a message like:

    $ make html
    /bin/sh: sphinx-build: command not found

This indicates that `make` cannot find `sphinx-build` on the path.
Check to ensure that Sphinx is installed,
for example by reviewing the modules listed by:

    $ python -m pip list

If Sphinx is not installed,
you may need to start a virtual environment that has it.
See the installation instructions below.


## Installing Sphinx


Set up a Python virtual environment.
For example,
to create a virtual environment in directory `venv_sphinx`:

    $ python3  -m pip  install --upgrade pip
    $ python3  -m venv  venv_sphinx

Tips:

+ Whichever Python interpreter you use to create the virtual environment,
    is the one you will end up using whenever you run that environment.
+ *Do not* set up the virtual environment in a version-controlled directory,
    or you will have to fight your version control system to convince it
    not to track the interpreter.
+ When you start up the virtual environment,
    it will alter the Unix prompt.
    To control the new part of the prompt,
    use the `--prompt` switch when creating the virtual environment:

        $ python3  -m venv  --prompt py_sphinx  venv_sphinx

After the virtual environment is installed,
activate it.
On Unix:

    $ source  venv_sphinx/bin/activate

On DOS:

    $ venv_sphinx/bin/activate.bat

If successful,
you should see the modified command prompt.

Then install Sphinx:

    $ python  -m pip  install --upgrade Sphinx

Notes:

+ Once you are in the virtual environment,
    you can just invoke `python`,
    and you will get whichever interpreter you used to create the environment.
+ To exit the virtual environment:

        $ deactivate
